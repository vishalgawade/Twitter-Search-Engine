<!DOCTYPE html>
<html lang="en">
    <head>        
        <!-- META SECTION -->
        <title>shodh. - Results Analysis</title>            
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        
        <link rel="icon" href="favicon.ico" type="image/x-icon" />
        <!-- END META SECTION -->
        
        <!-- CSS INCLUDE -->        
        <link rel="stylesheet" type="text/css" id="theme" href="theme/css/theme-default.css"/>
		<link rel="stylesheet" type="text/css" id="theme" href="theme/css/pagination-css.css"/>
        <!-- EOF CSS INCLUDE -->         

	<style>
	
	.data-container{
	
	}
	
	.data-container {
	width: 100%;
	margin: 10px 0px;
	}
	.data-container > li > a,
	.data-container > li > span {
	  margin-left: 3px;
	  -moz-border-radius: 3px;
	  -webkit-border-radius: 3px;
	  border-radius: 3px;
	  color: #656d78;
	  border-color: #E5E5E5;
	}
	.data-container > li > a:hover,
	.data-container > li > span:hover {
	  color: #222;
	}
	.data-container > li.active > a,
	.data-container > li.active > a:hover {
	  background: #33414e;
	  color: #FFF;
	  border-color: #33414e;
	}
	.pagination.pagination-sm {
	  margin: 0px;
	  width: auto;
	}
	.pagination.pagination-sm.push-down-20 {
	  margin-bottom: 20px;
	}
	.pagination.pagination-sm.push-up-20 {
	  margin-top: 20px;
	}
	
	.table > thead > tr > th,
	.table > tbody > tr > th,
	.table > tfoot > tr > th,
	.table > thead > tr > td,
	.table > tbody > tr > td,
	.table > tfoot > tr > td {
	  border-color: #0000001c;
	  padding: 16px 20px;
	  background: #FFFFFF;
	  color: #656C78;
	  font-size: 13px;
}

.morris-hover {
    position: none;
    z-index: 0;
}
	
	</style>
		
    </head>
	
    <body>
         <!-- START PAGE CONTAINER -->
        <div class="">
            

            
            <!-- PAGE CONTENT -->
            <div class="page-content" style="">
                
                <!-- START X-NAVIGATION VERTICAL -->
                <ul class="x-navigation x-navigation-horizontal ">
                    <!-- TOGGLE NAVIGATION -->
                    <li>
                        <a href="/IRF18P4/"><span class="fa fa-home"></span> <span class="xn-text">Home</span></a>
                        
                    </li>
                    <!-- END TOGGLE NAVIGATION -->
                    <!-- SEARCH -->

                    <!-- END SEARCH -->                    

                </ul>
                <!-- END X-NAVIGATION VERTICAL -->                     

                 
                
                <!-- PAGE CONTENT WRAPPER -->
                <div class="page-content-wrap" style="padding-top:5%">
                    
		
					
                    
                    <div class="row">
    
                        <!--  <div class="col-md-6">
										
                                        <div class="x-block">

                                            <div class="x-block-content ">                                                                                                
                                                <table class="table x-table ">
														<thead>
															<tr>
																<th style="width:10%"></th>
																<th style="width:90%"></th>
															</tr>
														</thead>
                                                    <tbody id="tweetDetails">
                                                </tbody></table>                                                
                                            </div>
                                        </div>
										<div id="tweetDetailsPagination">
                                        </div>
                        </div>-->
                        <div class="col-md-4">
                            <!-- START SALES BLOCK -->
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>Devices used for Twitter</h3>
                                    </div>                                     
                                    <ul class="panel-controls panel-controls-title">                                        	                                
                                        <li><a href="#" class="panel-fullscreen rounded"><span class="fa fa-expand"></span></a></li>
										<li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span></a></li>
                                    </ul>                                    
                                    
                                </div>
                                <div class="panel-body padding-0">                                    

                                            <div class="chart-holder" id="dashboard-donut-deviceUsed" style="height: 275px;"></div>
                                  
                                </div>
                            </div>
                            <!-- END SALES BLOCK -->
                            <!-- START VISITORS BLOCK -->

                            <!-- END VISITORS BLOCK -->
                            
                        </div>
                        <!--  -->
<div class="col-md-4">
                		<div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>Language Distribution</h3>
                                    </div>
                                    <ul class="panel-controls panel-controls-title">                                        	                                
                                        <li><a href="#" class="panel-fullscreen rounded"><span class="fa fa-expand"></span></a></li>
										<li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span></a></li>
                                    </ul>
                                </div>
                                
                                <div class="panel-body padding-0">
                                    <div class="chart-holder" id="morris-bar-language" style="height: 275px;"></div>
                                    <h1>
    								</h1>
                                </div>
                            </div>
                	</div>
                	
                	<div class="col-md-4">
                		<div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>Most Active Twitter Users</h3>
                                    </div>
                                    <ul class="panel-controls panel-controls-title">                                        	                                
                                        <li><a href="#" class="panel-fullscreen rounded"><span class="fa fa-expand"></span></a></li>
										<li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span></a></li>
                                    </ul>
                                </div>
                                <div class="panel-body padding-0">
                                    <div class="chart-holder" id="morris-bar-users" style="height: 275px;"></div>
                                    <h1>
    								</h1>
                                </div>
                            </div>
                	</div>
                        <!-- 
                         <div class="col-md-4">
                        	<div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>Sentiment Analysis</h3>
                                        <span>Query:  </span>
                                    </div>
                                    <ul class="panel-controls" style="margin-top: 2px;">
                                        <li><a href="#" class="panel-fullscreen"><span class="fa fa-expand"></span></a></li>
                                        <li><a href="#" class="panel-refresh"><span class="fa fa-refresh"></span></a></li>
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="fa fa-cog"></span></a>                                        
                                            <ul class="dropdown-menu">
                                                <li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span> Collapse</a></li>
                                                <li><a href="#" class="panel-remove"><span class="fa fa-times"></span> Remove</a></li>
                                            </ul>                                        
                                        </li>                                        
                                    </ul>
                                </div>
                                <div class="panel-body padding-0">
                                    <div class="chart-holder" id="dashboard-donut-SA" style="height: 200px;"></div>
                                    <h1>

    								</h1>
                                </div>
                            </div>
                    </div>
                    -->

                    
                    <!-- START DASHBOARD CHART -->
               
                    <!-- END DASHBOARD CHART -->
         
                </div>
                
                <!--  Row 2 -->
                
                <div class="row">
                	<div class="col-md-6">
                	<div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>User's Twitter Age Count</h3>
                                    </div>
                                    <ul class="panel-controls panel-controls-title">                                        	                                
                                        <li><a href="#" class="panel-fullscreen rounded"><span class="fa fa-expand"></span></a></li>
										<li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span></a></li>
                                    </ul>
                                </div>
                                <div class="panel-body padding-0">
                                    <div id="morris-line-example" style="height: 275px;"></div>
                                    <h1>
    								</h1>
                                </div>
                            </div>
                	</div>
                	<div class="col-md-6">
                        	<div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>Topic vs City</h3>
                                    </div>
                                    <ul class="panel-controls panel-controls-title">                                        	                                
                                        <li><a href="#" class="panel-fullscreen rounded"><span class="fa fa-expand"></span></a></li>
										<li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span></a></li>
                                    </ul>
                                </div>
                                <div class="panel-body padding-0">
                                    <div  id="morris-bar-topicCity" style="height: 275px;"></div>
                                    <h1>
    								</h1>
                                </div>
                            </div>
                        </div>
                	
                	
                	
                	<!-- 
                	<div class="col-md-4">
                	<div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>Sentiment Analysis</h3>
                                        <span>Query:  </span>
                                    </div>
                                    <ul class="panel-controls" style="margin-top: 2px;">
                                        <li><a href="#" class="panel-fullscreen"><span class="fa fa-expand"></span></a></li>
                                        <li><a href="#" class="panel-refresh"><span class="fa fa-refresh"></span></a></li>
                                        <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="fa fa-cog"></span></a>                                        
                                            <ul class="dropdown-menu">
                                                <li><a href="#" class="panel-collapse"><span class="fa fa-angle-down"></span> Collapse</a></li>
                                                <li><a href="#" class="panel-remove"><span class="fa fa-times"></span> Remove</a></li>
                                            </ul>                                        
                                        </li>                                        
                                    </ul>
                                </div>
                                <div class="panel-body padding-0">
                                    <div class="chart-holder" id="dashboard-donut-SA" style="height: 200px;"></div>
                                    <h1>
    								</h1>
                                </div>
                            </div>
                	</div> -->
                </div>
                
                <!--  END  Row 2 -->
                <!-- END PAGE CONTENT WRAPPER -->                                
            </div>            
            <!-- END PAGE CONTENT -->
        </div>
        <!-- END PAGE CONTAINER -->

        <!-- MESSAGE BOX-->
        <div class="message-box animated fadeIn" data-sound="alert" id="mb-signout">
            <div class="mb-container">
                <div class="mb-middle">
                    <div class="mb-title"><span class="fa fa-sign-out"></span> Log <strong>Out</strong> ?</div>
                    <div class="mb-content">
                        <p>Are you sure you want to log out?</p>                    
                        <p>Press No if youwant to continue work. Press Yes to logout current user.</p>
                    </div>
                    <div class="mb-footer">
                        <div class="pull-right">
                            <a href="pages-login.html" class="btn btn-success btn-lg">Yes</a>
                            <button class="btn btn-default btn-lg mb-control-close">No</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MESSAGE BOX-->

        <!-- START PRELOADS -->
        <audio id="audio-alert" src="audio/alert.mp3" preload="auto"></audio>
        <audio id="audio-fail" src="audio/fail.mp3" preload="auto"></audio>
        <!-- END PRELOADS -->                  
        
    <!-- START SCRIPTS -->
        <!-- START PLUGINS -->
        <script type="text/javascript" src="theme/js/plugins/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="theme/js/plugins/jquery/jquery-ui.min.js"></script>
        <script type="text/javascript" src="theme/js/plugins/bootstrap/bootstrap.min.js"></script>        
        <!-- END PLUGINS -->

        <!-- START THIS PAGE PLUGINS-->        
        <script type='text/javascript' src='theme/js/plugins/icheck/icheck.min.js'></script>        
        <script type="text/javascript" src="theme/js/plugins/mcustomscrollbar/jquery.mCustomScrollbar.min.js"></script>
        <script type="text/javascript" src="theme/js/plugins/scrolltotop/scrolltopcontrol.js"></script>
        
        <script type="text/javascript" src="theme/js/plugins/morris/raphael-min.js"></script>
        <script type="text/javascript" src="theme/js/plugins/morris/morris.min.js"></script>       
        <script type="text/javascript" src="theme/js/plugins/rickshaw/d3.v3.js"></script>
        <script type="text/javascript" src="theme/js/plugins/rickshaw/rickshaw.min.js"></script>
        <script type='text/javascript' src='theme/js/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js'></script>
        <script type='text/javascript' src='theme/js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js'></script>                
        <script type='text/javascript' src='theme/js/plugins/bootstrap/bootstrap-datepicker.js'></script>                
        <script type="text/javascript" src="theme/js/plugins/owl/owl.carousel.min.js"></script>                 
        
        <script type="text/javascript" src="theme/js/plugins/moment.min.js"></script>
        <script type="text/javascript" src="theme/js/plugins/daterangepicker/daterangepicker.js"></script>
        <!-- END THIS PAGE PLUGINS-->        

        <!-- START TEMPLATE -->

        
        <script type="text/javascript" src="theme/js/plugins.js"></script>        
        <script type="text/javascript" src="theme/js/actions.js"></script>
        
		<script type="text/javascript" src="theme/js/taffy-min.js"></script>
		
		<script type="text/javascript" src="theme/js/pagination.js"></script>
		<script type="text/javascript">
		

		//var facetList=([(${deviceUsed})]);
		//var query = [(${query})];
		var deviceData=([(${deviceUsed})]);
		var languageData=([(${topLang})]);
		var usersData=([(${activeUsers})]);
		var tcData=([(${topicVsCity})]);
		var ageData=([(${tweetAge})]);
		var facetedData = [];
		var filteredData =[];
$(document).ready(function () {


	//document.getElementById("searchBar").defaultValue = query;



//var sentimentAnalysisData = [{"positiveSentiment": 55,"negativeSentiment": 40,"neutralSentiment": 5, }];
var onerrorlink="https://wersm.com/wp-content/uploads/2017/04/wersm-twitter-egg-broken.png";

/*
for (var i = 0; i < tweetData.length; i++) 
{
    $("#tweetDetails").append("<tr><td>" + tweetData[i].user.screen_name + "</td>" +
    "<td>" + tweetData[i].text + "</td>" +
	"<td>" + tweetData[i].topic + "</td>" +
	"<td>" + tweetData[i].city + "</td></tr>");
}
*/

// Donut dashboard chart 
/*var deviceString = "";
var devices = []
for (var i = 0; i < deviceData.length; i++) 
{
    if(deviceData[i].hasOwnProperty("Android"))
    	deviceString = deviceString + "Android:" + deviceData[i].Android;
}

var finalString = "{" + deviceString + "}";
device.push(finalString);
*/
Morris.Donut({
    element: 'dashboard-donut-deviceUsed',
    data: [
    	{label:"Android", value: deviceData.Android},
    	{label:"iPhone", value: deviceData.iPhone},
    	{label:"iPad", value: deviceData.iPad},
    	{label:"Web Client", value: deviceData.Web_Client},
    	{label:"Tweetbot for iOS", value: deviceData.Tweetbot_for},
    	{label:"Mobile Web", value: deviceData.Mobile_Web}
    	],
    colors: ['#33414E', '#3FBAE4', '#FEA223', '#DAF7A6','#FF495F','#008000'],
    resize: true
    });
// END Donut dashboard chart


// topic v city

var mexCrime = "0";
var parisCrime = "0";
var delhiCrime = "0";
var nycCrime = "0";
var bangCrime = "0";

var mexEnv = "0";
var parisEnv = "0";
var delhiEnv = "0";
var nycEnv = "0";
var bangEnv = "0";

var mexPol = "0";
var parisPol = "0";
var delhiPol = "0";
var nycPol = "0";
var bangPol = "0";

var mexUn = "0";
var parisUn = "0";
var delhiUn = "0";
var nycUn = "0";
var bangUn = "0";

var mexIn = "0";
var parisIn = "0";
var delhiIn = "0";
var nycIn = "0";
var bangIn = "0";

for(var i=0;i<tcData.length;i++)
{
	if(tcData[i].crime_city=='paris')
		parisCrime = tcData[i].count;
	else if(tcData[i].crime_city=='delhi')
		delhiCrime = tcData[i].count;
	else if(tcData[i].crime_city=='bangkok')
		bangCrime = tcData[i].count;
	else if(tcData[i].crime_city=='nyc')
		nycCrime = tcData[i].count;
	else if(tcData[i].crime_city=='mexico city')
		mexCrime = tcData[i].count;
	
	else if(tcData[i].env_city=='paris')
		parisEnv = tcData[i].count;
	else if(tcData[i].env_city=='delhi')
		delhiEnv = tcData[i].count;
	else if(tcData[i].env_city=='bangkok')
		bangEnv = tcData[i].count;
	else if(tcData[i].env_city=='nyc')
		nycEnv = tcData[i].count;
	else if(tcData[i].env_city=='mexico city')
		mexEnv = tcData[i].count;
	
	else if(tcData[i].politics_city=='paris')
		parisPol = tcData[i].count;
	else if(tcData[i].politics_city=='delhi')
		delhiPol = tcData[i].count;
	else if(tcData[i].politics_city=='bangkok')
		bangPol = tcData[i].count;
	else if(tcData[i].politics_city=='nyc')
		nycPol = tcData[i].count;
	else if(tcData[i].politics_city=='mexico city')
		mexPol = tcData[i].count;
	
	else if(tcData[i].infra_city=='paris')
		parisIn = tcData[i].count;
	else if(tcData[i].infra_city=='delhi')
		delhiIn = tcData[i].count;
	else if(tcData[i].infra_city=='bangkok')
		bangIn = tcData[i].count;
	else if(tcData[i].infra_city=='nyc')
		nycIn = tcData[i].count;
	else if(tcData[i].infra_city=='mexico city')
		mexIn = tcData[i].count;
	
	else if(tcData[i].unrest_city=='paris')
		parisUn = tcData[i].count;
	else if(tcData[i].unrest_city=='delhi')
		delhiUn = tcData[i].count;
	else if(tcData[i].unrest_city=='bangkok')
		bangUn = tcData[i].count;
	else if(tcData[i].unrest_city=='nyc')
		nycUn = tcData[i].count;
	else if(tcData[i].unrest_city=='mexico city')
		mexUn = tcData[i].count;
	
	else
	{}
	
}


    Morris.Bar({
        element: 'morris-bar-topicCity',
        data: [
            { y: 'Paris', a: parisEnv, b: parisUn, c:parisCrime, d:parisPol, e:parisIn },
            { y: 'NYC',  a: nycEnv, b: nycUn, c:nycCrime, d:nycPol, e:nycIn  },
            { y: 'Mexico City',  a: mexEnv, b: mexUn, c:mexCrime, d:mexPol, e:mexIn },
            { y: 'Delhi',  a: delhiEnv, b: delhiUn, c:delhiCrime, d:delhiPol, e:delhiIn },
            { y: 'Bangkok',  a: bangEnv, b: bangUn, c:bangCrime, d:bangPol, e:bangIn }
        ],
        xkey: 'y',
        ykeys: ['a', 'b', 'c','d','e'],
        labels: ['Environment', 'Social Unrest', 'Crime', 'Politics', 'Infra'],
        resize: true,
        lineColors: ['#3FBAE4', '#FEA223','#FEA223','#FEA223','#FEA223']
    });


// end topic v city

// line chart

var ageYear = [];
var ageCount = [];
for(var i=0;i<ageData.length;i++)
{
		ageYear[i] = ageData[i].user;
		ageCount[i] = ageData[i].count;	
}


    Morris.Line({
      element: 'morris-line-example',
      data: [
        { y: '2008', a: ageCount[0]},
        { y: '2009', a: ageCount[1]},
        { y: '2010', a: ageCount[2]},
        { y: '2011', a: ageCount[3]},
        { y: '2012', a: ageCount[4]},
        { y: '2013', a: ageCount[5]},
        { y: '2014', a: ageCount[6]},
        { y: '2015', a: ageCount[7]},
        { y: '2016', a: ageCount[8]},
        { y: '2017', a: ageCount[9]},
        { y: '2018', a: ageCount[10]}
      ],
      xkey: 'y',
      ykeys: ['a'],
      labels: ['Number of Twitter Users'],
      resize: true,
      lineColors: ['#33414E']
    });

// end line chart

// 



//

// lang chart

var enCount = "0";
var frCount = "0";
var esCount = "0";
var thCount = "0";
var hiCount = "0";
for(var i=0;i<languageData.length;i++)
{
	if(languageData[i].language=='en')
		 enCount = languageData[i].count;
	else if(languageData[i].language=='es')
		esCount = languageData[i].count;
	else if(languageData[i].language=='fr')
		frCount = languageData[i].count;
	else if(languageData[i].language=='th')
		thCount = languageData[i].count;
	else if(languageData[i].language=='hi')
		hiCount = languageData[i].count;
	else
	{}
	
}


Morris.Bar({
    element: 'morris-bar-language',
    data: [
      {device: 'English', geekbench: enCount},
      {device: 'French', geekbench: frCount},
      {device: 'Hindi', geekbench: hiCount},
      {device: 'Spanish', geekbench: esCount},
      {device: 'Thai', geekbench: thCount}
    ],
    xkey: 'device',
    ykeys: ['geekbench'],
    labels: ['Tweets'],
    barRatio: 0.4,
    xLabelAngle: 35,
    hideHover: 'auto',
	barColors: function (row, series, type) {
	if(row.label == "English") return "#AD1D28";
	else if(row.label == "French") return "#DEBB27";
	else if(row.label == "Hindi") return "#fec04c";
	else if(row.label == "Spanish") return "#1AB244";
	else if(row.label == "Thai") return "#34495E";
}

  });

// end lang chart

//user 

var userName = [];
var userCount = [];
for(var i=0;i<usersData.length;i++)
{
		userName[i] = usersData[i].user;
		userCount[i] = usersData[i].count;	
}


Morris.Bar({
    element: 'morris-bar-users',
    data: [
      {device: userName[0], geekbench: userCount[0]},
      {device: userName[1], geekbench: userCount[1]},
      {device: userName[2], geekbench: userCount[2]},
      {device: userName[3], geekbench: userCount[3]},
      {device: userName[4], geekbench: userCount[4]},
      {device: userName[5], geekbench: userCount[5]},
      {device: userName[6], geekbench: userCount[6]},
      {device: userName[7], geekbench: userCount[7]},
      {device: userName[8], geekbench: userCount[8]},
      {device: userName[9], geekbench: userCount[9]}
    ],
    xkey: 'device',
    ykeys: ['geekbench'],
    labels: ['Tweets'],
    barRatio: 0.4,
    xLabelAngle: 35,
    hideHover: 'auto'
	/*barColors: function (row, series, type) {
	if(row.label == "English") return "#AD1D28";
	else if(row.label == "French") return "#DEBB27";
	else if(row.label == "Hindi") return "#fec04c";
	else if(row.label == "Spanish") return "#1AB244";
	else if(row.label == "Thai") return "#34495E";
}
*/
  });


//edn user


// trending list

for (var i = 0; i < 10; i++)
{
	if(facetList[i].count!=0 && facetList[i].hashtag!='')
	$("#trendingHashtags").append('<a href="#" onclick="facetTable(this);" class="list-group-item" id="'+facetList[i].hashtag+'">'+facetList[i].hashtag+'<span class="badge badge-success">'+facetList[i].count+'</span></a>');
}
 
 
 // end trending list
 
/* TAFFY DB */
var tweetsDB = TAFFY(tweetData);

var languages = tweetsDB().distinct('lang');

//alert(languages.length);
/* END TAFFY DB  */
/*
for (var i = 0; i < languages.length; i++) 
{
    $("#langiageFilterList").append('<div class="col-md-12"><label class="check"><div class="icheckbox_minimal-grey" style="position: relative;">'+
	'<input type="checkbox" class="icheckbox" style="position: absolute; opacity: 0;">'+
	'<ins class="iCheck-helper" style="position: absolute; top: 0%; left: 0%; display: block; width: 100%; height: 100%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div>'+
	languages[i]+'</label></div>');
}
*/


// cities graph

var cities = tweetsDB().distinct('city');

var cityList = [                                           
    {latLng: [48.856613, 2.352222], name: 'Paris'},
    {latLng: [19.43, -99.13], name: 'Mexico City'},   
    {latLng: [40.712776, -74.005974], name: 'NYC'},
    {latLng: [28.704060, 77.102493], name: 'Delhi'},
    {latLng: [13.75, 100.50], name: 'Bangkok'}];
var cityData = [];


for (var i = 0; i < cities.length; i++) 
{
	if(cities[i]=='nyc')
	var nycCount = tweetsDB().filter({'city':'nyc'}).count();
	else if(cities[i]=='mexico city')
	var mexicoCount = tweetsDB().filter({'city':'mexico city'}).count();
	else if(cities[i]=='bangkok')
	var bangkokCount = tweetsDB().filter({'city':'bangkok'}).count();
	else if(cities[i]=='delhi')
	var delhiCount = tweetsDB().filter({'city':'delhi'}).count();
	else if(cities[i]=='paris')
	var parisCount = tweetsDB().filter({'city':'paris'}).count();
	else
	{}
	
	for(var j= 0;j<cityList.length;j++)
	{
		var city = cityList[j].name.toLowerCase();
		if(city==cities[i])
			cityData.push(cityList[j]);
	}
	
}

var jvm_wm = new jvm.WorldMap({container: $('#dashboard-map-sales'),
    map: 'world_mill_en', 
    backgroundColor: '#FFFFFF',                                      
    regionsSelectable: true,
    regionStyle: {selected: {fill: '#B64645'},
                    initial: {fill: '#33414E'}},
    markerStyle: {initial: {fill: '#3FBAE4',
                   stroke: '#3FBAE4'}},
    markers: cityData
});


Morris.Bar({
    element: 'morris-bar-cities',
    data: [
      {device: 'Bangkok', geekbench: bangkokCount},
      {device: 'Delhi', geekbench: delhiCount},
      {device: 'Mexico City', geekbench: mexicoCount},
      {device: 'New York City', geekbench: nycCount},
      {device: 'Paris', geekbench: parisCount}
    ],
    xkey: 'device',
    ykeys: ['geekbench'],
    labels: ['Tweets'],
    barRatio: 0.4,
    xLabelAngle: 35,
    hideHover: 'auto',
	barColors: function (row, series, type) {
	if(row.label == "Bangkok") return "#AD1D28";
	else if(row.label == "Delhi") return "#DEBB27";
	else if(row.label == "Mexico City") return "#fec04c";
	else if(row.label == "New York City") return "#1AB244";
	else if(row.label == "Paris") return "#34495E";
}

  });


// end cities graph


})

//Filter data with respect to hashtags
function facetTable(value)
{
	var hashTag = value.id;
	$("#tweetDetails").html('');
	$("#tweetDetailsPagination").html('');
	facetedData = [];
	for(var i = 0;i<tweetData.length;i++)
	{
		
		if(tweetData[i].hasOwnProperty("hashtags"))
		{
			var tags = tweetData[i].hashtags;
			if(typeof tags == "string")
				var hashTagList = tags.split(",");
			else
				var hashTagList = tags;
			for(var j = 0;j<hashTagList.length;j++)
			{
				if(hashTagList[j]==hashTag)
				{
					facetedData.push(tweetData[i]);
				}
			}
		}
	}
	
	var sourceData;
	if(filteredData.length!=0)
		sourceData = filteredData;
	else
		sourceData = facetedData;
	
	$('#tweetDetailsPagination').pagination({
		dataSource: sourceData,
		pageSize: 10,
		className: 'custom-paginationjs',
		callback: function(data, pagination) {
			// template method of yourself
			//var html = simpleTemplating(data);
			//$('#tweetDetails').html(html);
		$("#tweetDetails").html('');
			for (var i = 0; i < data.length; i++) 
			{
				    $("#tweetDetails").append('<tr><td><a href="#" class="x-user"><img src="'+data[i]["user.profile_image_url_https"]+'" alt="profile picture" style="border-radius: 50%;"></a></td>' +
				    '<td><span><b>' + data[i]["user.name"] + '</b> <a href="https://twitter.com/'+data[i]["user.screen_name"]+'">@'+data[i]["user.screen_name"] +'</a><br><a href="https://twitter.com/'+data[i]["user.screen_name"]+'/status/'+data[i].id_str+'" style="text-decoration:none;color:black">' +
				    data[i].text + '</a><div class="form-group">' +
					'<span style="padding:2%;color:#95B75D;"><i class="fa fa-retweet"> ' +
					data[i].retweet_count+ '</i></span>'+
					'<span style="padding:2%;color:#B64645"><i class="fa fa-heart"> ' +
					data[i].favorite_count+ '</i></span>'+
					'</div></td></tr>');
			}
		}
		})

	
	
}
//END Filter data with respect to hashtags


function languageFilter(checkBoxValue){

	//alert(checkBoxValue.value);
	$("#tweetDetails").html('');
	$("#tweetDetailsPagination").html('');
	var langList = document.getElementById('langiageFilterList');
	var langs = langList.getElementsByTagName('input');
	var count = 0;
	
	for (var j=0, len=langs.length; j<len; j++) {
		if(langs[j].checked==true)
		count++;
	}
	
	var sourceData;
	
	if(facetedData.length!=0)
		sourceData = facetedData;
	else
		sourceData = tweetData;
		
	if(count!=0)
	{
		filteredData = [];
		$('#tweetDetailsPagination').pagination({
		dataSource: sourceData,
		pageSize: 10,
		className: 'custom-paginationjs',
		callback: function(data, pagination) {
			// template method of yourself
			//var html = simpleTemplating(data);
			//$('#tweetDetails').html(html);
		$("#tweetDetails").html('');
			for (var i = 0; i < data.length; i++) 
			{
				for (var j=0, len=langs.length; j<len; j++) {
				if(data[i].lang==langs[j].value && langs[j].checked==true )
				{
				    $("#tweetDetails").append('<tr><td><a href="#" class="x-user"><img src="'+data[i]["user.profile_image_url_https"]+'" alt="profile picture" style="border-radius: 50%;"></a></td>' +
				    		'<td><span><b>' + data[i]["user.name"] + '</b> <a href="https://twitter.com/'+data[i]["user.screen_name"]+'">@'+data[i]["user.screen_name"] +'</a><br><a href="https://twitter.com/'+data[i]["user.screen_name"]+'/status/'+data[i].id_str+'" style="text-decoration:none;color:black">' +
				    data[i].text + '</a><div class="form-group">' +
					'<span style="padding:2%;color:#95B75D;"><i class="fa fa-retweet"> ' +
					data[i].retweet_count+ '</i></span>'+
					'<span style="padding:2%;color:#B64645"><i class="fa fa-heart"> ' +
					data[i].favorite_count+ '</i></span>'+
					'</div></td></tr>');
				   filteredData.push(data[i]);
				}
				}
			}
		}
		})
	}
	else{
		filteredData= {};
		$('#tweetDetailsPagination').pagination({
		dataSource: sourceData,
		pageSize: 10,
		className: 'custom-paginationjs',
		callback: function(data, pagination) {
			// template method of yourself
			//var html = simpleTemplating(data);
			//$('#tweetDetails').html(html);
		$("#tweetDetails").html('');
		for (var i = 0; i < data.length; i++) 
		{
		    $("#tweetDetails").append('<tr><td><a href="#" class="x-user"><img src="'+data[i]["user.profile_image_url_https"]+'" alt="profile picture" style="border-radius: 50%;"></a></td>' +
		    		'<td><span><b>' + data[i]["user.name"] + '</b> <a href="https://twitter.com/'+data[i]["user.screen_name"]+'">@'+data[i]["user.screen_name"] +'</a><br><a href="https://twitter.com/'+data[i]["user.screen_name"]+'/status/'+data[i].id_str+'" style="text-decoration:none;color:black">' +
		    data[i].text + '</a><div class="form-group">' +
			'<span style="padding:2%;color:#95B75D;"><i class="fa fa-retweet"> ' +
			data[i].retweet_count+ '</i></span>'+
			'<span style="padding:2%;color:#B64645"><i class="fa fa-heart"> ' +
			data[i].favorite_count+ '</i></span>'+
			'</div></td></tr>');
		}
		}
		})
	}
	
	/*
	
	
	*/
	
	
	
	


}
</script>
        <!-- END TEMPLATE -->
    <!-- END SCRIPTS -->         
    </body>
</html>
<!-- SCRIPTS --> 

<!-- END SCRIPTS -->